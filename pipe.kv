<Pipe>:
    bottom_body_position: self.pos[0]
    bottom_cap_position: self.pipe_center - self.GAP_SIZE/2.0 - self.CAP_SIZE
    top_cap_position: self.pipe_center + self.GAP_SIZE/2.0
    top_body_position: self.pipe_center + self.GAP_SIZE/2.0 + self.CAP_SIZE

    canvas.before:
        Rectangle:
            # Bottom pipe body
            size: self.bottom_cap_position - self.bottom_body_position, 48
            pos:  self.bottom_body_position, self.pos[1]
            texture: self.pipe_body_texture
            tex_coords: self.lower_pipe_tex_coords
        Rectangle:
            # Bottom pipe cap
            size:  self.CAP_SIZE, 64
            pos: self.bottom_cap_position, self.pos[1]-8
            source: "pipe_cap_rot.png"

        Rectangle:
            # Top pipe cap
            size: self.CAP_SIZE, 64
            pos: self.top_cap_position, self.pos[1]-8
            source: "pipe_cap_rot.png"
        Rectangle:
            size: 800-self.top_body_position-96, 48
            pos:self.top_body_position , self.pos[1]
            texture: self.pipe_body_texture
            tex_coords: self.top_pipe_tex_coords